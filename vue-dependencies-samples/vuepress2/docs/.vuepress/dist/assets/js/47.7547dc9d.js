(window.webpackJsonp=window.webpackJsonp||[]).push([[47],{488:function(e,n,r){"use strict";r.r(n);var t=r(56),o=Object(t.a)({},(function(){var e=this,n=e.$createElement,r=e._self._c||n;return r("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[r("h4",{attrs:{id:"_4-4-3-2-旧版配置扩展"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#_4-4-3-2-旧版配置扩展"}},[e._v("#")]),e._v(" "),r("a",{attrs:{href:"http://w3c.github.io/webrtc-pc/#legacy-configuration-extensions",target:"_blank",rel:"noopener noreferrer"}},[e._v("4.4.3.2 旧版配置扩展"),r("OutboundLink")],1)]),e._v(" "),r("p",[e._v("除了添加到RTCPeerConnection的媒体之外，本节还介绍了一组可用于影响 offer 创建方式的旧版扩展。鼓励开发人员使用 RTCRtpTransceiver API。")]),e._v(" "),r("p",[e._v("使用本节中指定的任何旧版选项调用 createOffer 时，请运行以下步骤而不是常规 createOffer 步骤：")]),e._v(" "),r("ol",[r("li",[r("p",[e._v("让 options 成为方法的第一个参数。")])]),e._v(" "),r("li",[r("p",[e._v("让connection成为当前的RTCPeerConnection对象。")])]),e._v(" "),r("li",[r("p",[e._v('对于 options 中的每个"offerToReceive"成员，以及它的类别 kind ，执行以下步骤：')])]),e._v(" "),r("li",[r("p",[e._v("如果字典成员的值为false，")]),e._v(" "),r("ol",[r("li",[r("p",[e._v('对每个未停止的"sendrecv"类的收发器 transceiver ，把 transceiver 中的[Direction] 设置为"sendonly"。')])]),e._v(" "),r("li",[r("p",[e._v('对每个未停止的"recvonly"类别的收发器 transceiver ，把 transceiver 中的[Direction]值 设置为"inactive"。 如果有下一选项，继续此步骤')])])])])]),e._v(" "),r("div",{staticClass:"language- extra-class"},[r("pre",[r("code",[e._v("继续下一个选项（如果有）。\n\n2.  如果连接具有任何不停止的“sendrecv”或“recvonly”类型的 transceiver，则继续下一个选项（如果有）。\n\n3.  让调用connection.addTransceiver（kind）的结果赋值给 transceiver，除了这个操作绝不能更新需要协商的标志。\n\n4.   如果由于先前的操作引发错误而未设置收发器，则中止这些步骤。\n\n5.   将transceiver的[[Direction]]值设置为“recvonly”。\n")])])]),r("ol",{attrs:{start:"4"}},[r("li",[e._v("运行 createOffer 指定的步骤以创建 offer。")])]),e._v(" "),r("div",{staticClass:"language- extra-class"},[r("pre",{pre:!0,attrs:{class:"language-text"}},[r("code",[e._v("partial dictionary RTCOfferOptions {\n    boolean offerToReceiveAudio;\n    boolean offerToReceiveVideo;\n};\n")])])]),r("p",[e._v("Attributes zh:属性")]),e._v(" "),r("p",[e._v("offerToReceiveAudio 类型为 boolean")]),e._v(" "),r("p",[e._v("此设置提供对音频方向性的额外控制。例如，无论是否发送音频，它都可用于确保接收音频。")]),e._v(" "),r("p",[e._v("offerToReceive 类型为 boolean")]),e._v(" "),r("p",[e._v("此设置提供对视频方向性的额外控制。例如，无论是否发送视频，它都可用于确保接收视频。")])])}),[],!1,null,null,null);n.default=o.exports}}]);